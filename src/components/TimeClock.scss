@import "../sass/variables";

.foreground {
  position: absolute;
  text-align: center;

  font-size: $counter-font-size;

  height: calc($counter-font-size/2);
  width: $counter-font-size;
  padding: 0 $counter-padding;
  backface-visibility: hidden;
  overflow: hidden;
  display: none;

  &--front {
    top: 0rem;

    background-color: $clr-neutral-3;
    transform-origin: bottom;
    animation: flip-middle-to-down 0.2s forwards linear;

    padding-top: $counter-padding;
  }

  &--back {
    top: calc($counter-font-size/2 + $counter-padding);

    background-color: $clr-neutral-2;
    transform-origin: top;
    transform: rotateX(180deg);
    animation: flip-top-to-middle 0.2s forwards linear;

    padding-bottom: $counter-padding;
  }

  &__text {
    height: 10rem;
    width: 10rem;
    position: absolute;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  &--front &__text {
    top: 100%;
    color: rgba($clr-primary-2, 0.8);
  }

  &--back &__text {
    top: 0;
    color: $clr-primary-2;
  }
}

.background {
  position: relative;
  text-align: center;
  font-size: $counter-font-size;
  height: calc($counter-font-size/2);
  width: $counter-font-size;
  z-index: -1;
  padding: 0 $counter-padding;
  overflow: hidden;

  &--top {
    background-color: $clr-neutral-3;
    padding-top: $counter-padding;
  }

  &--bottom {
    background-color: $clr-neutral-2;
    padding-bottom: $counter-padding;
  }

  &__text {
    height: 10rem;
    width: 10rem;
    position: absolute;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  &--top &__text {
    top: 100%;
    color: rgba($clr-primary-2, 0.8);
  }

  &--bottom &__text {
    top: 0;
    color: $clr-primary-2;
  }
}

@keyframes flip-top-to-middle {
  0% {
    box-shadow: 0 0.2rem 0.2rem #000;
    border-bottom: 0.1rem solid rgba(240, 46, 170, 0.4);
  }

  100% {
    transform: rotateX(0deg);
    // box-shadow: rgba(240, 46, 170, 0.4) 5px 5px,
    //   rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px,
    //   rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;
  }
}

@keyframes flip-middle-to-down {
  0% {
    box-shadow: rgba(240, 46, 170, 0.4) 5px 5px,
      rgba(240, 46, 170, 0.3) 10px 10px, rgba(240, 46, 170, 0.2) 15px 15px,
      rgba(240, 46, 170, 0.1) 20px 20px, rgba(240, 46, 170, 0.05) 25px 25px;
  }

  100% {
    transform: rotateX(-180deg);
    box-shadow: 0 0.2rem 0.2rem #000;
    border-top: 0.1rem solid rgba(240, 46, 170, 0.4);
  }
}
